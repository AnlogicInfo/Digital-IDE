"use strict";

const fs = require('fs');

const vhd2vl = require("./translate/vhd2vl");

function vhdl2vlog(path) {
    vhd2vl().then((Module) => {
        let content = fs.readFileSync(path, "utf-8");
        let status = Module.ccall('vhdlParse', '', ['string'], [content]);
        if (status) {
            return Module.ccall('getVlog', 'string', ['string'], []);
        } else {
            return null;
        }
    });
}
exports.vhdl2vlog = vhdl2vlog;
