"use strict";

const verilog_parser = require('../parser_TreeSitter/verilog_parser');
const vhdl_parser    = require('../parser_TreeSitter/vhdl_parser');

class ParserFactory {
    constructor() { }

    async getParser(lang, comment_symbol) {
        if (lang === 'vhdl') {
            return await this.getVhdlParser(comment_symbol);
        } else if (lang === 'verilog' || lang === 'systemverilog') {
            return await this.getVerilogParser(comment_symbol);
        }
    }

    async getVhdlParser(comment_symbol) {
        let parser = new vhdl_parser(comment_symbol);
        await parser.init();
        return parser;
    }

    async getVerilogParser(comment_symbol) {
        let parser = new verilog_parser(comment_symbol);
        await parser.init();
        return parser;
    }
}

module.exports = {
  ParserFactory: ParserFactory
};
